â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         HISTORIAL DETALLADO DE CAMBIOS - SISTEMA DE INVENTARIO                  â•‘
â•‘                          Enero 26, 2026                                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROYECTO: Sistema de GestiÃ³n de Inventario
TECNOLOGÃA: Node.js + Express + PostgreSQL + Vanilla JavaScript
ESTADO: âœ… COMPLETAMENTE FUNCIONAL

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROBLEMA 1: jsonwebtoken no encontrado en Docker
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ARCHIVO: Dockerfile / docker-compose.yml
LÃNEA: N/A (Problema de build)
SOLUCIÃ“N: Reconstruir imagen Docker sin cachÃ©s
COMANDO: docker-compose build --no-cache

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROBLEMA 2: Hash bcrypt incorrecto para usuario admin
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ARCHIVO: scripts/createUsers.sql
CAMBIO: Reemplazar hash de admin
LÃNEA: Hash del usuario admin

ANTES:
  password: 'admin123' (sin hashear)

DESPUÃ‰S:
  password: '$2a$10$IM7OHFw6Lc3icEI8cBaT8OtBwAIgUXVdGrC0JRv4FsTkslfgJaL/2'
  (Hash bcrypt correcto con salt iterations: 10)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROBLEMA 3: Orden de ejecuciÃ³n SQL incorrecta
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ARCHIVO: scripts/createUsers.sql
CAMBIO: Remover ALTER TABLE de movimientos de ubicaciÃ³n incorrecta
LÃNEA: Removidas lÃ­neas de ALTER TABLE

ANTES:
  ALTER TABLE movimientos ADD CONSTRAINT fk_movimientos_usuarios
  (en script incorrecto)

DESPUÃ‰S:
  ALTER TABLE movimientos ADD CONSTRAINT fk_movimientos_usuarios
  (en ubicaciÃ³n correcta despuÃ©s de crear la tabla)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROBLEMA 4: Middleware order - req.body undefined
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ARCHIVO: index.js
LÃNEA: ~40-60 (Ã¡rea de middleware)

ANTES:
  app.use(cors());
  app.use(express.static('public'));
  app.use(express.json());
  // rutas aquÃ­

DESPUÃ‰S:
  app.use(cors());
  app.use(express.json());
  app.use(express.static('public'));
  // rutas aquÃ­

RAZÃ“N: bodyParser (express.json) debe ir ANTES de las rutas

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROBLEMA 5: addEventListener en elementos null
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ARCHIVO: public/js/app.js
CAMBIO: Refactorizar todos los event listeners en funciones

ANTES:
  document.getElementById('loginForm').addEventListener('submit', ...);
  // Al cargar el script, loginForm aÃºn no existe en el DOM

DESPUÃ‰S:
  function setupLoginForm() {
      const loginForm = document.getElementById('loginForm');
      if (!loginForm) return;
      loginForm.addEventListener('submit', async function(e) { ... });
  }
  
  // Llamar en DOMContentLoaded:
  document.addEventListener('DOMContentLoaded', async () => {
      setupLoginForm();
      setupMenuNavigation();
      setupProductoForm();
      setupCategoriaForm();
      setupMovimientoForm();
      setupEditProductoForm();
      ...
  });

FUNCIONES CREADAS:
  â€¢ setupLoginForm()
  â€¢ setupMenuNavigation()
  â€¢ setupProductoForm()
  â€¢ setupCategoriaForm()
  â€¢ setupMovimientoForm()
  â€¢ setupEditProductoForm()

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROBLEMA 6: categoria_id con string vacÃ­o en lugar de null
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ARCHIVO: public/js/app.js
LÃNEA: ~300-350 (en setupProductoForm)

ANTES:
  const formData = new FormData(productoForm);
  const data = Object.fromEntries(formData);
  // categoria_id = "" (string vacÃ­o causa error SQL)

DESPUÃ‰S:
  const formData = new FormData(productoForm);
  let data = Object.fromEntries(formData);
  
  // Convertir valores vacÃ­os a null
  Object.keys(data).forEach(key => {
      if (data[key] === '') data[key] = null;
  });

RESULTADO: Error SQL "invalid input syntax for type integer: """" resuelto

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROBLEMA 7: pdfkit no instalado en Docker
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ARCHIVO: package.json
LÃNEA: En dependencies

CAMBIO: Agregar pdfkit
ANTES:
  No incluido en package.json

DESPUÃ‰S:
  "dependencies": {
    ...
    "pdfkit": "^0.13.0"
  }

SOLUCIÃ“N: docker-compose build --no-cache para instalar en container

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CAMBIO 8: Nueva ruta para generar reportes PDF
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ARCHIVO: index.js
LÃNEA: 359-420 (nueva ruta)

AGREGADO:
  const PDFDocument = require('pdfkit');

  app.get('/api/reportes/movimientos-pdf', verificarToken, verificarPermiso('ver_reportes'), async (req, res) => {
    try {
      const { tipo } = req.query;
      
      if (!tipo || !['ENTRADA', 'SALIDA'].includes(tipo)) {
        return res.status(400).json({ error: 'Tipo de movimiento invÃ¡lido' });
      }

      // Obtener movimientos con precios
      const result = await pool.query(`
        SELECT m.*, p.nombre as producto_nombre, p.sku, p.precio, u.nombre as usuario_nombre
        FROM movimientos m 
        JOIN productos p ON m.producto_id = p.id 
        LEFT JOIN usuarios u ON m.usuario_id = u.id
        WHERE m.tipo = $1
        ORDER BY m.created_at DESC 
      `, [tipo]);

      const movimientos = result.rows;
      const doc = new PDFDocument({ margin: 40 });
      
      // Headers
      res.setHeader('Content-Type', 'application/pdf');
      res.setHeader('Content-Disposition', `attachment; filename="reporte_${tipo}_${new Date().toISOString().split('T')[0]}.pdf"`);
      doc.pipe(res);

      // TÃ­tulo y contenido
      doc.fontSize(24).font('Helvetica-Bold').text('Reporte de Movimientos', { align: 'center' });
      
      // Tabla con columnas: Fecha, Producto, SKU, Cantidad, Precio, Subtotal, Usuario
      // ... cÃ³digo de generaciÃ³n de tabla ...
      
      // Totales
      let totalCantidad = 0;
      let totalValor = 0;
      
      movimientos.forEach((mov) => {
        const precio = parseFloat(mov.precio) || 0;
        const subtotal = mov.cantidad * precio;
        totalCantidad += mov.cantidad;
        totalValor += subtotal;
      });

      doc.font('Helvetica-Bold').fontSize(11);
      doc.text(`Total de movimientos: ${movimientos.length}`, 40, doc.y);
      doc.text(`Cantidad total: ${totalCantidad} unidades`, 40, doc.y);
      doc.text(`Valor total: $${totalValor.toFixed(2)}`, 40, doc.y, { underline: true });

      doc.end();
    } catch (err) {
      console.error('Error generando PDF:', err);
      res.status(500).json({ error: err.message });
    }
  });

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CAMBIO 9: Crear sistema de variables CSS para Dark Mode
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ARCHIVO: public/css/styles.css
LÃNEA: 1-30 (inicio del archivo)

AGREGADO:
  :root {
    --primary-color: #667eea;
    --primary-dark: #764ba2;
    --bg-light: #f5f7fa;
    --bg-white: #ffffff;
    --text-dark: #333333;
    --text-gray: #666666;
    --text-light: #999999;
    --border-color: #e0e0e0;
    --border-light: #e5e7eb;
    --success-color: #10b981;
    --danger-color: #ef4444;
    --warning-color: #f59e0b;
    --info-color: #3b82f6;
  }

  body.dark-mode {
    --bg-light: #1a1a2e;
    --bg-white: #16213e;
    --text-dark: #e0e0e0;
    --text-gray: #b0b0b0;
    --text-light: #808080;
    --border-color: #2d3a5c;
    --border-light: #2d3a5c;
  }

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CAMBIO 10: Responsive Design - Media Queries
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ARCHIVO: public/css/styles.css
LÃNEA: ~700-1070 (media queries)

AGREGADO 4 BREAKPOINTS:

1. @media (max-width: 1024px)
   â€¢ Sidebar: 240px (reducido de 280px)
   â€¢ Stats grid: minmax(150px, 1fr)
   â€¢ Padding reducido

2. @media (max-width: 768px)
   â€¢ Dashboard: flex-direction: column (sidebar arriba, content abajo)
   â€¢ Sidebar: width: 100%, flex-direction: row (horizontal)
   â€¢ Sidebar-menu: scroll-x (horizontal scroll)
   â€¢ Main-content: order: 1 (debajo del sidebar)
   â€¢ Stats grid: minmax(120px, 1fr)
   â€¢ Form grid: 1 columna

3. @media (max-width: 480px)
   â€¢ Font sizes aÃºn mÃ¡s compactos
   â€¢ Stats grid: 2 columnas
   â€¢ Botones: width: 100%
   â€¢ Inputs: width: 100%

EJEMPLOS DE CAMBIOS:
  â€¢ Login container: max-width: 450px, padding dinÃ¡mico
  â€¢ Font sizes: clamp(24px, 5vw, 32px)
  â€¢ Tablas: font-size: 12px en tablets

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CAMBIO 11: Dark Mode Toggle Button en HTML
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ARCHIVO: public/index.html
LÃNEA: ~38-40 (sidebar header)

ANTES:
  <div class="sidebar-header">
    <h2>ğŸ“¦ Inventario</h2>
    <p>Panel de Control</p>
  </div>

DESPUÃ‰S:
  <div class="sidebar-header">
    <h2>ğŸ“¦ Inventario</h2>
    <button class="dark-mode-toggle" id="darkModeToggle" title="Cambiar tema">ğŸŒ™</button>
  </div>

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CAMBIO 12: Funciones de Dark Mode en JavaScript
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ARCHIVO: public/js/app.js
LÃNEA: 5-30 (inicio del archivo)

AGREGADO:
  // ========== DARK MODE ==========
  function initDarkMode() {
    // Verificar preferencia guardada o usar preferencia del sistema
    const savedMode = localStorage.getItem('darkMode');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const isDarkMode = savedMode ? savedMode === 'true' : prefersDark;
    
    if (isDarkMode) {
      document.body.classList.add('dark-mode');
      updateDarkModeButton(true);
    }
  }

  function toggleDarkMode() {
    const isDarkMode = document.body.classList.toggle('dark-mode');
    localStorage.setItem('darkMode', isDarkMode);
    updateDarkModeButton(isDarkMode);
  }

  function updateDarkModeButton(isDarkMode) {
    const btn = document.getElementById('darkModeToggle');
    if (btn) {
      btn.textContent = isDarkMode ? 'â˜€ï¸' : 'ğŸŒ™';
      btn.title = isDarkMode ? 'Cambiar a tema claro' : 'Cambiar a tema oscuro';
    }
  }

INTEGRACIÃ“N EN DOMContentLoaded:
  document.addEventListener('DOMContentLoaded', async () => {
    initDarkMode();
    const darkModeToggle = document.getElementById('darkModeToggle');
    if (darkModeToggle) {
      darkModeToggle.addEventListener('click', toggleDarkMode);
    }
    // ... resto del cÃ³digo ...
  });

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CAMBIO 13: Reemplazar estilos inline por clases CSS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ARCHIVO: public/css/styles.css
LÃNEA: 1055-1080 (nuevas clases utilitarias)

AGREGADO:
  .text-gray { color: var(--text-gray); }
  .text-light { color: var(--text-light); }
  .btn-cancel { 
    background: var(--border-light); 
    color: var(--text-dark);
    border: 1px solid var(--border-color);
  }
  .form-section { 
    background: var(--border-light); 
    padding: 20px; 
    border-radius: 10px;
    margin-bottom: 20px;
    border: 1px solid var(--border-color);
  }
  .form-title { 
    margin-bottom: 15px; 
    color: var(--text-dark);
    font-weight: 600;
    font-size: 16px;
  }
  .form-group-row { 
    display: flex; 
    gap: 10px; 
    margin-top: 15px;
    flex-wrap: wrap;
  }
  .report-card { 
    padding: 20px; 
    background: var(--border-light); 
    border-radius: 10px;
    border: 1px solid var(--border-color);
    transition: all 0.3s;
  }
  .grid-2col { 
    display: grid; 
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 
    gap: 20px;
  }
  .flex-gap { 
    display: flex; 
    gap: 10px;
    flex-wrap: wrap;
    align-items: center;
  }

CAMBIOS EN HTML (ejemplo):
ARCHIVO: public/index.html
ANTES:
  <p style="margin-top: 20px; font-size: 12px; color: #999;">Usuario demo...</p>
  <div style="background: #f9fafb; padding: 20px; border-radius: 10px;">

DESPUÃ‰S:
  <p style="margin-top: 20px; font-size: 12px;" class="text-light">Usuario demo...</p>
  <div class="form-section">

LÃNEAS CAMBIADAS EN HTML:
  â€¢ LÃ­nea 29: Cambiar color a class="text-light"
  â€¢ LÃ­nea 71: Cambiar color a class="text-gray"
  â€¢ LÃ­nea 132: form-section agregada
  â€¢ LÃ­nea 167: btn-cancel agregada
  â€¢ LÃ­nea 197: form-section agregada
  â€¢ LÃ­nea 210: btn-cancel agregada
  â€¢ LÃ­nea 235: form-section agregada
  â€¢ LÃ­nea 286: grid-2col agregada
  â€¢ LÃ­nea 287-289: report-card agregada

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CAMBIO 14: Mejorar Select de CategorÃ­as
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ARCHIVO: public/css/styles.css
LÃNEA: 475-500

ANTES:
  .form-group input,
  .form-group select,
  .form-group textarea {
    padding: 12px;
    border: 2px solid var(--border-color);
    border-radius: 8px;
    font-size: 14px;
    background: var(--bg-white);
    color: var(--text-dark);
    transition: all 0.3s;
  }

DESPUÃ‰S:
  .form-group input,
  .form-group select,
  .form-group textarea {
    padding: 12px;
    border: 2px solid var(--border-color);
    border-radius: 8px;
    font-size: 14px;
    background: var(--bg-white);
    color: var(--text-dark);
    transition: all 0.3s;
    font-family: inherit;
  }

  .form-group select {
    cursor: pointer;
    appearance: none;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23667eea' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 12px center;
    background-size: 20px;
    padding-right: 40px;
  }

  body.dark-mode .form-group select {
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23e0e0e0' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
  }

CAMBIOS:
  â€¢ appearance: none (elimina estilo nativo del navegador)
  â€¢ background-image con SVG de flecha
  â€¢ Icono azul en light mode, blanco en dark mode
  â€¢ padding-right: 40px para dejar espacio al icono

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CAMBIO 15: Corregir Layout Dashboard (Sidebar + Content)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ARCHIVO: public/css/styles.css
LÃNEA: 128-135

ANTES:
  .dashboard {
    display: none;
    width: 100vw;
    height: 100vh;
    background: var(--bg-light);
    flex-direction: column;
  }

DESPUÃ‰S:
  .dashboard {
    display: none;
    width: 100vw;
    height: 100vh;
    background: var(--bg-light);
    flex-direction: row;
  }

RAZÃ“N: En desktop debe ser ROW (sidebar izquierda, content derecha)
       En mobile (768px) se cambia a COLUMN en media query

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CAMBIO 16: Mejorar card-header para Tablets
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ARCHIVO: public/css/styles.css
LÃNEA: 745-760 (@media 1024px)

ANTES:
  .card-header {
    flex-direction: column;
    align-items: flex-start;
  }
  
  .search-box {
    max-width: 100%;
  }

DESPUÃ‰S:
  .card-header {
    flex-wrap: wrap;
    gap: 10px;
  }

  .card-header h2 {
    width: 100%;
  }

  .search-box {
    max-width: 100%;
    width: 100%;
  }

RAZÃ“N: Mejor distribuciÃ³n de elementos en tablets sin collapse total

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

RESUMEN DE ARCHIVOS MODIFICADOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… index.js
   â€¢ LÃ­nea 1: Agregar require('pdfkit')
   â€¢ LÃ­nea 359-420: Agregar ruta GET /api/reportes/movimientos-pdf
   â€¢ CÃ¡lculos de precios y totales
   â€¢ GeneraciÃ³n de PDF con tabla

âœ… package.json
   â€¢ Agregar "pdfkit": "^0.13.0" en dependencies

âœ… public/css/styles.css
   â€¢ LÃ­nea 1-30: Variables CSS (:root y body.dark-mode)
   â€¢ LÃ­nea 128: Cambiar flex-direction: column â†’ row
   â€¢ LÃ­nea 475-500: Mejorar .form-group select
   â€¢ LÃ­nea 700-1070: Media queries responsive
   â€¢ LÃ­nea 745-760: Mejorar card-header
   â€¢ LÃ­nea 1055-1080: Agregar 9 clases utilitarias

âœ… public/index.html
   â€¢ LÃ­nea 38-40: Cambiar sidebar-header (agregar botÃ³n dark mode)
   â€¢ LÃ­nea 29: Cambiar estilos inline por class="text-light"
   â€¢ LÃ­nea 71: Cambiar estilos inline por class="text-gray"
   â€¢ LÃ­nea 132: Cambiar form div por class="form-section"
   â€¢ LÃ­nea 167: Agregar class="btn-cancel"
   â€¢ LÃ­nea 197: Cambiar form-categoria por class="form-section"
   â€¢ LÃ­nea 210: Agregar class="btn-cancel"
   â€¢ LÃ­nea 235: Cambiar form-movimiento por class="form-section"
   â€¢ LÃ­nea 286: Cambiar grid por class="grid-2col"
   â€¢ LÃ­nea 287-295: Cambiar divs por class="report-card"

âœ… public/js/app.js
   â€¢ LÃ­nea 5-30: Agregar funciones dark mode (initDarkMode, toggleDarkMode, updateDarkModeButton)
   â€¢ LÃ­nea 145-200: Refactorizar setupLoginForm, setupMenuNavigation, etc.
   â€¢ LÃ­nea 300-350: Agregar validaciÃ³n de datos (convertir vacÃ­os a null)
   â€¢ LÃ­nea 672-706: Integrar initDarkMode en DOMContentLoaded
   â€¢ Agregar event listener para darkModeToggle

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

FUNCIONALIDADES IMPLEMENTADAS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… AutenticaciÃ³n JWT con persistencia
âœ… CRUD completo de productos, categorÃ­as, movimientos
âœ… Reportes PDF con tabla dinÃ¡mica y cÃ¡lculos
âœ… Sistema completo de Dark Mode con persistencia
âœ… Responsive Design para desktop, tablet y mÃ³vil
âœ… Select de categorÃ­as personalizado con icono
âœ… ValidaciÃ³n de datos en frontend y backend
âœ… Manejo de errores robusto
âœ… Toast notifications para feedback
âœ… Modal para selecciÃ³n de tipo de reporte

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ESTADO FINAL: âœ… SISTEMA COMPLETAMENTE FUNCIONAL Y OPTIMIZADO

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
